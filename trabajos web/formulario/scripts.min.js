$(document).ready((function(){a();e();c();$("#docType").change(e);function a(){const a=["1","2","3","4","5","6","7","8","9","0"];a.sort((()=>Math.random()-.5));let e="";a.forEach(((a,t)=>{if(t%3===0)e+="<tr>";e+=`<td class="keypad-button">${a}</td>`;if((t+1)%3===0)e+="</tr>"}));e+='<tr><td class="keypad-button"><i class="fas fa-backspace"></i></td><td colspan="2" class="keypad-button"><i class="fas fa-sync-alt"></i></td></tr>';$("#keypad").html(e);t()}function t(){$("#keypad td").click((function(){var t=$(this).text().trim();var e=$("#password").val();if($(this).find(".fa-backspace").length>0){$("#password").val(e.slice(0,-1))}else if($(this).find(".fa-sync-alt").length>0){$("#password").val("");a()}else{if(e.length<6){$("#password").val(e+t)}}}))}function e(){var a=$("#docType").val();var t=a==="DNI"?8:12;$("#docNumber").attr("maxlength",t);$("#cardNumber").attr("maxlength",16)}function c(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var t="";for(var e=0;e<5;e++){t+=a.charAt(Math.floor(Math.random()*a.length))}$("#captchaDisplay").css("opacity","0");setTimeout((function(){$("#captchaDisplay").text(t).css("opacity","1");sessionStorage.setItem("captcha",t)}),500)}$("#reloadCaptcha").click(c);$("#loginForm").submit((function(a){a.preventDefault();if($("#captchaInput").val()!==sessionStorage.getItem("captcha")){$("#captchaInput").val("");alert("CAPTCHA incorrecto. Por favor, intente de nuevo.");c()}else{alert("Formulario enviado. Verificar los datos antes de enviar al servidor.")}}));$("#docNumber, #cardNumber").on("input",(function(){this.value=this.value.replace(/\D/g,"")}))}));